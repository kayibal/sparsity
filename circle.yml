machine:
    python:
        version: 3.5.2
    environment:
        LD_LIBRARY_PATH: '/usr/local/lib'

dependencies:
    cache_directories:
        - /home/ubuntu/.cache/pip
    override:
        - pip install numpy cython 2>&1
        - pip install pytest pytest-cov
        - pip install -v scipy pandas
        - pip install dask[dataframe] moto
test:
    override:
        - pip install .
        - python -c 'import sparsity'
        - py.test --cov sparsity --cov-report xml sparsity
    post:
        - bash <(curl -s https://codecov.io/bash)